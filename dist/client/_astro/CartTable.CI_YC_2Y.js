import"./disclose-version.BDr9Qe-U.js";import{i as X,a as ee}from"./lifecycle.DINW8IH3.js";import{g as te,p as ae,L as se,P as re,s as le,a as r,b as ie,m as ne,u as V,c as ue,S as ve,d as ce,l as oe,e as de,f as I,B as fe,R as _e,h as M,i as me,j as U,k as he,n as Q,o as pe,q as $,t as k,r as o,v as m,w as c,x as J,y as R,z as E,A as be,C as ye,D as z,E as ge,F as Se}from"./render.kpEYB8nB.js";import{e as Pe,i as qe}from"./each.CIj6NuSL.js";import{r as Oe,s as A,b as Ce}from"./input.DSiXecgl.js";import{c as xe,s as Te,a as Ee}from"./store.Cbcu9xv3.js";import{c as we,r as Re,u as H,a as Ae}from"./state.M9ceUbY8.js";import{p as ke}from"./proxy.DdCOot8Z.js";/* empty css                      */function G(l){for(var e=I,i=I;e!==null&&!(e.f&(fe|_e));)e=e.parent;try{return M(e),l()}finally{M(i)}}function j(l,e,i,h){var u=(i&me)!==0,v=!oe||(i&de)!==0,y=(i&ue)!==0,d=(i&he)!==0,g=!1,f;y?[f,g]=xe(()=>l[e]):f=l[e];var x=ve in l||ce in l,t=y&&(te(l,e)?.set??(x&&e in l&&(a=>l[e]=a)))||void 0,s=h,P=!0,C=!1,w=()=>(C=!0,P&&(P=!1,d?s=V(h):s=h),s);f===void 0&&h!==void 0&&(t&&v&&ae(),f=w(),t&&t(f));var p;if(v)p=()=>{var a=l[e];return a===void 0?w():(P=!0,C=!1,a)};else{var n=G(()=>(u?U:Q)(()=>l[e]));n.f|=se,p=()=>{var a=r(n);return a!==void 0&&(s=void 0),a===void 0?s:a}}if(!(i&re))return p;if(t){var D=l.$$legacy;return function(a,_){return arguments.length>0?((!v||!_||D||g)&&t(_?p():a),a):p()}}var S=!1,q=!1,O=ne(f),b=G(()=>U(()=>{var a=p(),_=r(O);return S?(S=!1,q=!0,_):(q=!1,O.v=a)}));return u||(b.equals=le),function(a,_){if(pe!==null&&(S=q,p(),r(O)),arguments.length>0){const T=_?r(b):v&&y?ke(a):a;return b.equals(T)||(S=!0,ie(O,T),C&&s!==void 0&&(s=T),V(()=>r(b))),a}return r(b)}}var Le=k('<div class="stepper svelte-68l2ec"><button aria-label="increment" class="svelte-68l2ec"><svg width="24" height="24" viewBox="0 0 24 24" style="fill: currentColor" class="svelte-68l2ec"><path d="M5 11h14v2H5z"></path></svg></button> <input type="number" name="quantity" id="quantity" class="svelte-68l2ec"> <div class="number svelte-68l2ec"> </div> <button aria-label="decrement" class="svelte-68l2ec"><svg width="24" height="24" viewBox="0 0 24 24" style="fill: currentColor" class="svelte-68l2ec"><path d="M19 11h-6V5h-2v6H5v2h6v6h2v-6h6z"></path></svg></button></div>');function Be(l,e){let i=j(e,"quantity",15,1),h=j(e,"minValue",3,1),u=j(e,"maxValue",3,10);var v=Le(),y=o(v);y.__click=function(...t){e.decrement?.apply(this,t)};var d=m(y,2);Oe(d);var g=m(d,2),f=o(g,!0);c(g);var x=m(g,2);x.__click=function(...t){e.increment?.apply(this,t)},c(v),J(()=>{A(d,"min",h()),A(d,"max",u()),R(f,i())}),Ce(d,i),E(l,v)}$(["click"]);async function je(l,e){const i=Object.values(e()).map(v=>({price:v.id,quantity:v.quantity}));console.log("Products to checkout:",i);const u=await(await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({line_items:i})})).json();u.url?(Ae(),window.location.href=u.url):console.error("Checkout error:",u.error)}var De=k('<tr><td class="svelte-1m0ee1l"><img width="100"></td><td class="svelte-1m0ee1l"><div class="item-description svelte-1m0ee1l"><h2> </h2> <p> </p></div></td><td class="svelte-1m0ee1l"><div class="quantity-cell"><!></div></td><td class="svelte-1m0ee1l"> </td></tr>'),Ye=k('<div class="title svelte-1m0ee1l"><h1 class="fs-900">Your cart</h1> <a href="/" class="svelte-1m0ee1l"><h2>Continue Shopping</h2></a></div> <table class="svelte-1m0ee1l"><thead class="svelte-1m0ee1l"><tr class="svelte-1m0ee1l"><th class="product-col svelte-1m0ee1l">PRODUCT</th><th class="details-col svelte-1m0ee1l"></th><th class="quantity-col svelte-1m0ee1l">QUANTITY</th><th class="total-col svelte-1m0ee1l">TOTAL</th></tr></thead><tbody></tbody></table> <button class="button">Checkout</button>',1),Fe=k("<h1>Your Cart is Empty</h1>");function $e(l,e){be(e,!1);const[i,h]=Te(),u=()=>Ee(we,"$cartItems",i),v=(t,s)=>{s<10&&H(t,s+1)},y=(t,s)=>{s<=1?Re(t):H(t,s-1)};X();var d=ye(),g=z(d);{var f=t=>{var s=Ye(),P=m(z(s),2),C=m(o(P));Pe(C,5,()=>Object.values(u()),qe,(p,n,D)=>{var S=De(),q=o(S),O=o(q);c(q);var b=m(q),a=o(b),_=o(a),T=o(_,!0);c(_);var Y=m(_,2),Z=o(Y,!0);c(Y),c(a),c(b);var L=m(b),F=o(L),K=o(F);Be(K,{increment:()=>v(r(n).id,r(n).quantity),decrement:()=>y(r(n).id,r(n).quantity),get quantity(){return r(n).quantity},set quantity(B){r(n).quantity=B,Se(()=>Object.values(u()))},$$legacy:!0}),c(F),c(L);var N=m(L),W=o(N,!0);c(N),c(S),J(B=>{A(O,"src",r(n).imageSrc),A(O,"alt",r(n).name),R(T,r(n).name),R(Z,r(n).price),R(W,B)},[()=>(r(n).quantity*r(n).price).toFixed(2)],Q),E(p,S)}),c(C),c(P);var w=m(P,2);w.__click=[je,u],E(t,s)},x=t=>{var s=Fe();E(t,s)};ee(g,t=>{Object.keys(u()).length>0?t(f):t(x,!1)})}E(l,d),ge(),h()}$(["click"]);export{$e as default};
