import"./disclose-version.BDr9Qe-U.js";import{i as X}from"./if.BclEZttx.js";import{g as ee,p as te,L as ae,P as se,s as re,a as r,b as ie,m as ne,u as N,c as le,S as ce,d as ue,l as ve,e as oe,f as V,B as de,R as fe,h as I,i as _e,j as M,k as he,n as Q,o as pe,q as $,t as A,r as o,v as h,w as v,x as J,y as w,z as T,A as be,C as me,D as U,E as ye,F as ge}from"./render.BENekBg8.js";import{i as Se,e as ze,a as Pe}from"./lifecycle.BfSRZ0Y6.js";import{r as qe,s as R,b as Ce}from"./input.DZFI5ice.js";import{c as Oe,s as xe,a as Te}from"./store.BMlnI6NR.js";import{c as Ee,r as we,u as H,a as Re}from"./state.M9ceUbY8.js";import{p as Ae}from"./proxy.CPdcxif0.js";/* empty css                      */function G(i){for(var e=V,n=V;e!==null&&!(e.f&(de|fe));)e=e.parent;try{return I(e),i()}finally{I(n)}}function B(i,e,n,p){var c=(n&_e)!==0,u=!ve||(n&oe)!==0,y=(n&le)!==0,d=(n&he)!==0,g=!1,f;y?[f,g]=Oe(()=>i[e]):f=i[e];var O=ce in i||ue in i,t=y&&(ee(i,e)?.set??(O&&e in i&&(a=>i[e]=a)))||void 0,s=p,z=!0,C=!1,E=()=>(C=!0,z&&(z=!1,d?s=N(p):s=p),s);f===void 0&&p!==void 0&&(t&&u&&te(),f=E(),t&&t(f));var b;if(u)b=()=>{var a=i[e];return a===void 0?E():(z=!0,C=!1,a)};else{var l=G(()=>(c?M:Q)(()=>i[e]));l.f|=ae,b=()=>{var a=r(l);return a!==void 0&&(s=void 0),a===void 0?s:a}}if(!(n&se))return b;if(t){var j=i.$$legacy;return function(a,_){return arguments.length>0?((!u||!_||j||g)&&t(_?b():a),a):b()}}var S=!1,P=!1,q=ne(f),m=G(()=>M(()=>{var a=b(),_=r(q);return S?(S=!1,P=!0,_):(P=!1,q.v=a)}));return c||(m.equals=re),function(a,_){if(pe!==null&&(S=P,b(),r(q)),arguments.length>0){const x=_?r(m):u&&y?Ae(a):a;return m.equals(x)||(S=!0,ie(q,x),C&&s!==void 0&&(s=x),N(()=>r(m))),a}return r(m)}}var ke=A('<div class="stepper svelte-68l2ec"><button aria-label="increment" class="svelte-68l2ec"><svg width="24" height="24" viewBox="0 0 24 24" style="fill: currentColor" class="svelte-68l2ec"><path d="M5 11h14v2H5z"></path></svg></button> <input type="number" name="quantity" id="quantity" class="svelte-68l2ec"> <div class="number svelte-68l2ec"> </div> <button aria-label="decrement" class="svelte-68l2ec"><svg width="24" height="24" viewBox="0 0 24 24" style="fill: currentColor" class="svelte-68l2ec"><path d="M19 11h-6V5h-2v6H5v2h6v6h2v-6h6z"></path></svg></button></div>');function Le(i,e){let n=B(e,"quantity",15,1),p=B(e,"minValue",3,1),c=B(e,"maxValue",3,10);var u=ke(),y=o(u);y.__click=function(...t){e.decrement?.apply(this,t)};var d=h(y,2);qe(d);var g=h(d,2),f=o(g,!0);v(g);var O=h(g,2);O.__click=function(...t){e.increment?.apply(this,t)},v(u),J(()=>{R(d,"min",p()),R(d,"max",c()),w(f,n())}),Ce(d,n),T(i,u)}$(["click"]);async function Be(i,e){const n=Object.values(e()).map(u=>({price:u.id,quantity:u.quantity}));console.log("Products to checkout:",n);const c=await(await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({line_items:n})})).json();c.url?(Re(),window.location.href=c.url):console.error("Checkout error:",c.error)}var je=A('<tr><td class="svelte-1c25pzb"><img width="100"></td><td class="svelte-1c25pzb"><div class="item-description svelte-1c25pzb"><h2> </h2> <p> </p></div></td><td class="svelte-1c25pzb"><div class="quantity-cell"><!></div></td><td class="svelte-1c25pzb"> </td></tr>'),De=A('<div class="title svelte-1c25pzb"><h1 class="fs-900">Your cart</h1> <a href="/" class="svelte-1c25pzb"><h2>Continue Shopping</h2></a></div> <table class="svelte-1c25pzb"><thead class="svelte-1c25pzb"><tr class="svelte-1c25pzb"><th class="product-col svelte-1c25pzb">PRODUCT</th><th class="details-col svelte-1c25pzb"></th><th class="quantity-col svelte-1c25pzb">QUANTITY</th><th class="total-col svelte-1c25pzb">TOTAL</th></tr></thead><tbody></tbody></table> <button class="button">Checkout</button>',1),Ye=A('<section class="empty svelte-1c25pzb"><h1 class="fs-900">Your Cart is Empty</h1> <a class="button" href="/">Continue Shopping</a></section>');function $e(i,e){be(e,!1);const[n,p]=xe(),c=()=>Te(Ee,"$cartItems",n),u=(t,s)=>{s<10&&H(t,s+1)},y=(t,s)=>{s<=1?we(t):H(t,s-1)};Se();var d=me(),g=U(d);{var f=t=>{var s=De(),z=h(U(s),2),C=h(o(z));ze(C,5,()=>Object.values(c()),Pe,(b,l,j)=>{var S=je(),P=o(S),q=o(P);v(P);var m=h(P),a=o(m),_=o(a),x=o(_,!0);v(_);var D=h(_,2),Z=o(D,!0);v(D),v(a),v(m);var k=h(m),Y=o(k),K=o(Y);Le(K,{increment:()=>u(r(l).id,r(l).quantity),decrement:()=>y(r(l).id,r(l).quantity),get quantity(){return r(l).quantity},set quantity(L){r(l).quantity=L,ge(()=>Object.values(c()))},$$legacy:!0}),v(Y),v(k);var F=h(k),W=o(F,!0);v(F),v(S),J(L=>{R(q,"src",r(l).imageSrc),R(q,"alt",r(l).name),w(x,r(l).name),w(Z,r(l).price),w(W,L)},[()=>(r(l).quantity*r(l).price).toFixed(2)],Q),T(b,S)}),v(C),v(z);var E=h(z,2);E.__click=[Be,c],T(t,s)},O=t=>{var s=Ye();T(t,s)};X(g,t=>{Object.keys(c()).length>0?t(f):t(O,!1)})}T(i,d),ye(),p()}$(["click"]);export{$e as default};
